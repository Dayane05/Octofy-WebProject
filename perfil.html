<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="/assets/img/polvo-octofy-icon.png" type="image/x-icon">
    <link rel="stylesheet" href="/assets/css/header-log.css">
    <link rel="stylesheet" href="assets/css/perfil.css" />
    <title>Perfil</title>
  </head>
  <body>
    <header>
      <nav class="menu">
        <input type="checkbox" class="menu-faketrigger" name="" id="" />

        <div class="menu-lines">
          <span></span>
          <span></span>
          <span></span>
        </div>
        <ul>
          <li><a href="/Octofy/perfil/index.html">Perfil</a></li>
                <li><a href="/octo/interesse.html">Área de interesse</a></li>
                <li><a href="/octo/planos cadas.html">Planos</a></li>
                <li><a href="/Octofy/blog/Blog.html">Blog</a></li>
                <li><a href="/Octofy/Lading page/landing.html">Sair</a></li>
        </ul>
      </nav>

      <div>
        <img class="logo" src="../Header/img/Logo Octofy.png" alt="" />
      </div>
    </header>

    <script src="script/script.js" type="module"></script>
    <main>
      <div class="container">
        <div class="input-container">
          <div class="input-image">
            <img src="img/Vector.png" />
            <label for="arquivo" class="picture-span">Editar foto </label>
            <input type="file" name="arquivo" id="arquivo" class="input" />
          </div>

           <!-- <div class="name-container">
            <h3>Nome Completo</h3>
          </div>  -->

          <!--TIRAR A PARTE DO PROGRESSO-->>

          <div class="progress">
            <div class="dados">
              <h4>Dados sobre o progresso</h4>
            </div>
            <div class="progress-bar">
              <img
                src="img/2169619_bar_chart_financial_graph_graphic_icon 1 (1).png"
                alt=""
              />
            </div>
          </div>

          <div class="rendimento">
            <div class="dados-rendimento">
              <h4>Dados sobre o rendimento</h4>
            </div>
            <div class="rendimento-bar">
              <img
                src="img/2172770_business graph_business growth_graph_growth chart_growth graph_icon 1.png"
                alt=""
              />
            </div>
          </div>
        </div>

        <div class="input-group">
          <div class="input-box">
            <label for="name">Nome Completo*</label>
            <input type="text" id="name" required />
          </div>
          <div class="input-box">
            <label for="email">E-mail*</label>
            <input type="text" id="email" required />
          </div>
          <div class="input-box">
            <label for="endereco">Endereço</label>
            <input type="text" id="endereco" required />
          </div>
          <div class="input-box">
            <label for="date">Data de Nascimento</label>
            <input type="date" id="date" required />
          </div>
          <div class="input-box">
            <label for="meta">Meta</label>
            <input type="text" id="meta" required />
          </div>
          <div class="input-button">
            <button class="btn-editar">Editar Perfil</button>
            <button class="btn-salvar">Salvar Informações</button>
            <button class="btn-painel"><a href="/Octofy/Painel dashboard admin/dashboard.html">painel</a></button>
          </div>
        </div>
      </div>
    </main>

    <script>
      // Seleciona elementos de input
      const nameInput = document.getElementById('name');
      const emailInput = document.getElementById('email');
      const enderecoInput = document.getElementById('endereco');
      const dateInput = document.getElementById('date');
      const metaInput = document.getElementById('meta');
      const fileInput = document.getElementById('arquivo');
      const profileImage = document.querySelector('.input-image img');
    
      // Carrega dados do localStorage ao abrir a página
      document.addEventListener('DOMContentLoaded', () => {
        const profileData = JSON.parse(localStorage.getItem('profileData'));
        if (profileData) {
          nameInput.value = profileData.name;
          emailInput.value = profileData.email;
          enderecoInput.value = profileData.endereco;
          dateInput.value = profileData.date;
          metaInput.value = profileData.meta;
          if (profileData.image) {
            profileImage.src = profileData.image;
          }
        }
      });
    
      // Atualiza a imagem ao selecionar um arquivo
      fileInput.addEventListener('change', (e) => {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = () => {
            profileImage.src = reader.result;
          };
          reader.readAsDataURL(file);
        }
      });
    
      // Salva as informações no localStorage
      function saveProfile() {
        const profileData = {
          name: nameInput.value,
          email: emailInput.value,
          endereco: enderecoInput.value,
          date: dateInput.value,
          meta: metaInput.value,
          image: profileImage.src,
        };
        localStorage.setItem('profileData', JSON.stringify(profileData));
        alert('Informações salvas com sucesso!');
      }
    
      // Configurações dos botões para editar e salvar
      document.querySelector('.btn-editar').addEventListener('click', (e) => {
        e.preventDefault();
        nameInput.disabled = !nameInput.disabled;
        emailInput.disabled = !emailInput.disabled;
        enderecoInput.disabled = !enderecoInput.disabled;
        dateInput.disabled = !dateInput.disabled;
        metaInput.disabled = !metaInput.disabled;
        alert('Campos prontos para edição');
      });
    
      document.querySelector('.btn-salvar').addEventListener('click', (e) => {
        e.preventDefault();
        saveProfile();
      });
    </script>
    
  </body>
</html>
